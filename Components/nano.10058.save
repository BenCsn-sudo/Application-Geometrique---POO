#include <SFML/Graphics.hpp>
#include <vector>

#include "Components/Figure.h"
#include "Components/Polygone.h"
#include "Components/Cercle.h"
#include "Components/Triangle.h"
#include "Components/Rectangle.h"
#include "Components/Carre.h"


int main() {

        // Création d’une fenêtre SFML 800x600
        sf::RenderWindow window(sf::VideoMode(800, 600), "Figures");

        // Création des différentes figures
        Cercle c({200.f, 200.f}, 60.f);
        Triangle t({400.f, 100.f}, {500.f, 300.f}, {300.f, 300.f});
        Rectangle r({100.f, 400.f}, {200.f, 420.f}, 150.f, 80.f);
        Carre sq({500.f, 350.f}, {600.f, 360.f}, 100.f);

        // Stockage polymorphique
        std::vector<Figure*> figs = {&c, &t, &r, &sq};

        while (window.isOpen()) {

                sf::Event event;
                while (window.pollEvent(event)) {
                        if (event.type == sf::Event::Closed) {
                                window.close();
                        };
                };
                window.clear(sf::Color::White);

                // Polymorphisme : chaque objet appelle son draw()
                for (auto f : figs) {
                    f->draw(window);
                };
                window.display();
        }

        return 0;
}
